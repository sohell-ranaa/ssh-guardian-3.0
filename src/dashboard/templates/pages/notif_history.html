<!-- SSH Guardian v3.1 - Notification History Page -->
<div id="page-notif-history" class="page-content" style="display: none;">
    <!-- Compact Header -->
    <div class="page-header-compact">
        <div class="page-header-left">
            <h2 class="page-title-sm">Notification History</h2>
            <div class="header-stats-inline" id="notif-header-stats">
                <span class="header-stat"><strong id="stat-notif-total">-</strong> Total</span>
                <span class="header-stat"><strong id="stat-notif-delivered">-</strong> Sent</span>
                <span class="header-stat"><strong id="stat-notif-failed">-</strong> Failed</span>
                <span class="header-stat"><strong id="stat-notif-unread">-</strong> Unread</span>
            </div>
        </div>
        <div class="page-header-actions">
            <button id="notif-history-export-btn" class="btn btn-sm btn-secondary">Export</button>
            <button class="refresh-btn" onclick="loadNotificationHistoryPage()"><span class="refresh-icon">‚Üª</span> Refresh</button>
        </div>
    </div>

    <!-- Category Tabs -->
    <div class="history-tabs" id="notif-history-tabs">
        <button class="history-tab active" data-category="all">All <span class="tab-count">0</span></button>
        <button class="history-tab" data-category="security">üõ°Ô∏è Security <span class="tab-count">0</span></button>
        <button class="history-tab" data-category="blocking">üö´ Blocking <span class="tab-count">0</span></button>
        <button class="history-tab" data-category="system">‚öôÔ∏è System <span class="tab-count">0</span></button>
    </div>

    <!-- Compact Filters -->
    <div class="history-filters" id="notif-history-filters">
        <select id="notif-filter-status" class="form-control form-control-sm">
            <option value="">All Status</option>
            <option value="pending">Pending</option>
            <option value="sent">Sent</option>
            <option value="failed">Failed</option>
        </select>
        <select id="notif-filter-channel" class="form-control form-control-sm">
            <option value="">All Channels</option>
            <option value="telegram">Telegram</option>
            <option value="email">Email</option>
            <option value="webhook">Webhook</option>
            <option value="dashboard">Dashboard</option>
        </select>
        <input type="date" id="notif-filter-start" class="form-control form-control-sm">
        <input type="date" id="notif-filter-end" class="form-control form-control-sm">
        <input type="text" id="notif-filter-search" class="form-control form-control-sm" placeholder="Search..." style="flex: 1; min-width: 120px;">
        <button id="notif-filter-apply-btn" class="btn btn-sm btn-primary">Filter</button>
        <button id="notif-filter-clear-btn" class="btn btn-sm btn-secondary">Clear</button>
    </div>

    <!-- Compact Table -->
    <div class="history-table-container">
        <table class="history-table" id="notif-history-table">
            <thead>
                <tr>
                    <th style="width: 140px;">Time</th>
                    <th style="width: 80px;">Channel</th>
                    <th>Subject</th>
                    <th style="width: 100px;">IP</th>
                    <th style="width: 70px;">Status</th>
                    <th style="width: 70px;">Action</th>
                </tr>
            </thead>
            <tbody id="notif-history-tbody">
                <tr>
                    <td colspan="6">
                        <div class="loading-placeholder">
                            <div class="loading-spinner"></div>
                            <span>Loading...</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div id="notif-history-pagination" class="pagination-compact">
    </div>
</div>
