<!-- Dashboard Analytics Page -->
<div id="page-dashboard" class="page-content">
    <div class="page-header">
        <div class="page-header-left">
            <h1 class="page-title">Dashboard Analytics</h1>
            <p class="page-subtitle">Real-time security metrics and insights</p>
        </div>
        <div class="page-header-right">
            <div class="header-stats">
                <div class="header-stat">
                    <span class="header-stat-value" id="dashboard-total-events">--</span>
                    <span class="header-stat-label">Total Events</span>
                </div>
                <div class="header-stat">
                    <span class="header-stat-value" id="dashboard-today-events">--</span>
                    <span class="header-stat-label">Today</span>
                </div>
                <div class="header-stat critical">
                    <span class="header-stat-value" id="dashboard-threats">--</span>
                    <span class="header-stat-label">Threats</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Stats Row -->
    <div class="dashboard-stats-grid">
        <div class="stat-card">
            <div class="stat-card-icon blue">
                <span>&#128200;</span>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value" id="analytics-total-events">--</div>
                <div class="stat-card-label">Total Events</div>
                <div class="stat-card-trend up">
                    <span>&#8593;</span> <span id="analytics-events-trend">--</span>% from yesterday
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-card-icon red">
                <span>&#9888;</span>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value" id="analytics-failed-logins">--</div>
                <div class="stat-card-label">Failed Logins</div>
                <div class="stat-card-trend down">
                    <span>&#8595;</span> <span id="analytics-failed-trend">--</span>% from yesterday
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-card-icon green">
                <span>&#10003;</span>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value" id="analytics-successful-logins">--</div>
                <div class="stat-card-label">Successful Logins</div>
                <div class="stat-card-trend neutral">
                    <span>&#8594;</span> No change
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-card-icon orange">
                <span>&#128274;</span>
            </div>
            <div class="stat-card-content">
                <div class="stat-card-value" id="analytics-blocked-ips">--</div>
                <div class="stat-card-label">Blocked IPs</div>
                <div class="stat-card-trend up">
                    <span>&#8593;</span> <span id="analytics-blocked-trend">--</span> today
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="dashboard-charts-grid">
        <!-- Events Timeline Chart -->
        <div class="chart-card wide">
            <div class="chart-card-header">
                <h3>Events Timeline (24h)</h3>
                <div class="chart-card-actions">
                    <select id="timeline-range" onchange="DashboardAnalytics.updateTimelineRange(this.value)">
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d">Last 7 Days</option>
                        <option value="30d">Last 30 Days</option>
                    </select>
                </div>
            </div>
            <div class="chart-card-body">
                <canvas id="events-timeline-chart"></canvas>
            </div>
        </div>

        <!-- Event Types Pie Chart -->
        <div class="chart-card">
            <div class="chart-card-header">
                <h3>Event Types</h3>
            </div>
            <div class="chart-card-body">
                <canvas id="event-types-chart"></canvas>
            </div>
        </div>
    </div>

    <!-- Second Charts Row -->
    <div class="dashboard-charts-grid">
        <!-- Top Attacking IPs -->
        <div class="chart-card">
            <div class="chart-card-header">
                <h3>Top Attacking IPs</h3>
                <span class="chart-card-badge">Today</span>
            </div>
            <div class="chart-card-body">
                <div class="top-list" id="top-attacking-ips">
                    <div class="loading-placeholder">
                        <div class="spinner-small"></div>
                        <span>Loading...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Geographic Distribution -->
        <div class="chart-card">
            <div class="chart-card-header">
                <h3>Geographic Distribution</h3>
            </div>
            <div class="chart-card-body">
                <canvas id="geo-distribution-chart"></canvas>
            </div>
        </div>

        <!-- Agent Status -->
        <div class="chart-card">
            <div class="chart-card-header">
                <h3>Agent Status</h3>
            </div>
            <div class="chart-card-body">
                <div class="agent-status-grid" id="agent-status-grid">
                    <div class="loading-placeholder">
                        <div class="spinner-small"></div>
                        <span>Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="dashboard-activity-section">
        <div class="activity-card">
            <div class="activity-card-header">
                <h3>Recent High-Risk Events</h3>
                <a href="#events-live" class="view-all-link">View All Events &#8594;</a>
            </div>
            <div class="activity-card-body">
                <div class="activity-list" id="recent-high-risk-events">
                    <div class="loading-placeholder">
                        <div class="spinner-small"></div>
                        <span>Loading recent events...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- External CSS - Loaded via dashboard_modular.html -->
<!-- /static/css/pages/dashboard_analytics.css -->

<!-- External JS - Loaded via dashboard_modular.html -->
<!-- /static/js/modules/dashboard_analytics.js -->
