<!-- SSH Guardian v3.0 - System Status Page -->
<div id="page-system-status" class="page-content" style="display: none;">
    <div class="page-header">
        <div>
            <h1 class="page-title">System Status</h1>
            <p class="page-subtitle">Cache management and system health monitoring</p>
        </div>
        <div style="display: flex; gap: 12px; align-items: center;">
            <span id="current-time-display" style="font-size: 14px; color: var(--text-secondary);"></span>
            <button id="system-refresh-btn" class="refresh-btn">
                <span class="refresh-icon">â†»</span> Refresh
            </button>
        </div>
    </div>

    <!-- Cache Management Section -->
    <div class="settings-section" style="margin-bottom: 24px;">
        <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <h2 style="font-size: 18px; font-weight: 600; color: var(--text-primary); margin: 0;">Cache Management</h2>
            <span id="cache-status-badge" class="badge badge-success">Connected</span>
        </div>

        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 24px;">
            <!-- Cache Stats Cards -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 24px;">
                <div class="stat-card" style="background: var(--background); border: 1px solid var(--border); border-radius: 8px; padding: 16px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: var(--primary);" id="cache-total-keys">-</div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">Total Keys</div>
                </div>
                <div class="stat-card" style="background: var(--background); border: 1px solid var(--border); border-radius: 8px; padding: 16px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: var(--success);" id="cache-memory-used">-</div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">Memory Used</div>
                </div>
                <div class="stat-card" style="background: var(--background); border: 1px solid var(--border); border-radius: 8px; padding: 16px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: var(--warning);" id="cache-memory-peak">-</div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">Memory Peak</div>
                </div>
                <div class="stat-card" style="background: var(--background); border: 1px solid var(--border); border-radius: 8px; padding: 16px; text-align: center;">
                    <div style="font-size: 24px; font-weight: 700; color: var(--info);" id="cache-hit-rate">-</div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">Status</div>
                </div>
            </div>

            <!-- Cache TTL Settings -->
            <div style="margin-bottom: 24px;">
                <h3 style="font-size: 15px; font-weight: 600; color: var(--text-primary); margin-bottom: 12px;">Cache TTL Settings</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 12px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--background); border-radius: 6px;">
                        <span style="font-size: 13px; color: var(--text-secondary);">Events List</span>
                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">30 seconds</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--background); border-radius: 6px;">
                        <span style="font-size: 13px; color: var(--text-secondary);">Events Count</span>
                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">60 seconds</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--background); border-radius: 6px;">
                        <span style="font-size: 13px; color: var(--text-secondary);">Dashboard Stats</span>
                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">120 seconds</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--background); border-radius: 6px;">
                        <span style="font-size: 13px; color: var(--text-secondary);">GeoIP Data</span>
                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">1 hour</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--background); border-radius: 6px;">
                        <span style="font-size: 13px; color: var(--text-secondary);">Threat Intel</span>
                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">10 minutes</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: var(--background); border-radius: 6px;">
                        <span style="font-size: 13px; color: var(--text-secondary);">ML Predictions</span>
                        <span style="font-size: 13px; font-weight: 500; color: var(--text-primary);">60 seconds</span>
                    </div>
                </div>
            </div>

            <!-- Cache Actions -->
            <div style="border-top: 1px solid var(--border); padding-top: 20px;">
                <h3 style="font-size: 15px; font-weight: 600; color: var(--text-primary); margin-bottom: 12px;">Cache Actions</h3>
                <div style="display: flex; flex-wrap: wrap; gap: 12px;">
                    <button id="clear-events-cache-btn" class="btn btn-secondary" style="flex: 1; min-width: 150px;">
                        Clear Events Cache
                    </button>
                    <button id="clear-stats-cache-btn" class="btn btn-secondary" style="flex: 1; min-width: 150px;">
                        Clear Stats Cache
                    </button>
                    <button id="clear-all-cache-btn" class="btn btn-danger" style="flex: 1; min-width: 150px;">
                        Clear All Cache
                    </button>
                </div>
                <p style="font-size: 12px; color: var(--text-secondary); margin-top: 12px;">
                    Note: Clearing cache will cause the next page load to fetch fresh data from the database, which may be slower.
                </p>
            </div>
        </div>
    </div>

    <!-- System Health Section -->
    <div class="settings-section">
        <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <h2 style="font-size: 18px; font-weight: 600; color: var(--text-primary); margin: 0;">System Health</h2>
        </div>

        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 24px;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
                <!-- Database Status -->
                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--background); border-radius: 8px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--success-bg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 24px;" id="db-status-icon">-</span>
                    </div>
                    <div>
                        <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Database</div>
                        <div style="font-size: 13px; color: var(--text-secondary);" id="db-status-text">Checking...</div>
                    </div>
                </div>

                <!-- Redis Status -->
                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--background); border-radius: 8px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--success-bg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 24px;" id="redis-status-icon">-</span>
                    </div>
                    <div>
                        <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">Redis Cache</div>
                        <div style="font-size: 13px; color: var(--text-secondary);" id="redis-status-text">Checking...</div>
                    </div>
                </div>

                <!-- Server Status -->
                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--background); border-radius: 8px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--success-bg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 24px;" id="server-status-icon">-</span>
                    </div>
                    <div>
                        <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">API Server</div>
                        <div style="font-size: 13px; color: var(--text-secondary);" id="server-status-text">Checking...</div>
                    </div>
                </div>

                <!-- Version Info -->
                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--background); border-radius: 8px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--info-bg); display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 24px;">v3</span>
                    </div>
                    <div>
                        <div style="font-size: 14px; font-weight: 600; color: var(--text-primary);">SSH Guardian</div>
                        <div style="font-size: 13px; color: var(--text-secondary);" id="version-text">Version 3.0.0</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
